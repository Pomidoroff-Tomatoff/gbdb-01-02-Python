gbdb-01-02-Python
# Python basics
Основы языка Python

*GeekBrains > GeekUniversity > BigData: Oleg Gladkiy (https://gb.ru/users/358e4f6c-8b97-42f0-baf6-254e78ff766e)*

### Домашнее задание № 8 
Промежуточная аттестация

__Задание 1.__
```
1. Реализовать класс «Дата»
     А. функция-конструктор которого должна принимать дату в виде 
        строки в формате «день-месяц-год». 
     Б. В рамках класса реализовать два метода: 
        1-ый, с декоратором @classmethod, должен извлекать число, месяц, год и преобразовывать 
            их тип к типу «Число».
        2-ой, с декоратором @staticmethod, должен проводить валидацию числа, месяца и года 
            (например, месяц — от 1 до 12).
     В. Проверить работу полученной структуры на реальных данных.
  РЕШЕНИЕ:
     А. Концепция
        Использование метода класса обосновано, если необходимо содержать дату 
        как переменную (атрибут) класса. В поставленной задаче это единственный требуемый
        атрибут. Следовательно, все экземпляры класса будут обращаться к одному атрибуту.
        Данный тип класса соответствует классу-синглтону -- Singlton может иметь
        только один экземпляр, хоть и под разными именами.
     Б. Создать класс сингл-тон для хранения и выдачи значения даты.
     В. Создать методы для разбора даты и обработки ошибок.
  ДОПОЛНЕНИЕ (v.030):
     -- Добавлена возможность работы с несколькими разделителями: двоеточие, точка, запятая...
```
__Задание 2.__
```
2. Создайте собственный класс-исключение, обрабатывающий ситуацию деления на ноль.
     Проверьте его работу на данных, вводимых пользователем. 
     При вводе нуля в качестве делителя программа должна корректно обработать эту ситуацию 
     и не завершиться с ошибкой.
     РЕШЕНИЕ
        Заменить встроенное исключения я не могу (может это и хорошо),
        но зато могу подменить..
```
__Задание 3.__
```
3. Создайте собственный класс-исключение, который должен проверять содержимое списка 
     на наличие только чисел. Проверить работу исключения на реальном примере. 
     Запрашивать у пользователя данные и заполнять список необходимо только числами. 
     Класс-исключение должен контролировать типы данных элементов списка.

     Примечание: 
        A. Длина списка не фиксирована. 
        Б. Элементы запрашиваются бесконечно, пока пользователь сам не остановит работу скрипта, 
           введя, например, команду «stop». 
        B. При этом скрипт завершается, сформированный список с числами выводится на экран.

     Подсказка: 
        Для этого задания примем, что пользователь может вводить только числа и строки. 
        Во время ввода пользователем очередного элемента необходимо реализовать проверку типа элемента. 
        Вносить его в список, только если введено число. 
        
        Класс-исключение должен не позволить пользователю ввести текст (не число) 
        и отобразить соответствующее сообщение. При этом работа скрипта не должна завершаться.
```
__Задание 4-5-6.__
Общее решение: склад большой фирмы.
```
    4. Начните работу над проектом «Склад оргтехники». 
        А.  Создайте класс, описывающий склад. 
        Б.  А также класс «Оргтехника», который будет базовым для классов-наследников.
            Эти классы — конкретные типы оргтехники (принтер, сканер, ксерокс). 
            -- В базовом классе определите параметры, общие для приведённых типов. 
            -- В классах-наследниках реализуйте параметры, уникальные для каждого типа оргтехники.
     
    5.  Продолжить работу над первым заданием (п. 4). 
        Разработайте методы, которые отвечают за 
            > приём оргтехники на склад 
            > (и) передачу в определённое подразделение компании. 
        Для хранения данных о наименовании и количестве единиц оргтехники, 
        а также других данных, можно использовать любую подходящую структуру (например, словарь).
     
    6.  Продолжить работу над вторым заданием (п. 5). 
        Реализуйте механизм валидации вводимых пользователем данных.
         
        Например, 
            для указания количества принтеров, отправленных на склад, 
            нельзя использовать строковый тип данных.
     
    Подсказка: 
        постарайтесь реализовать в проекте «Склад оргтехники» максимум возможностей, 
        изученных на уроках по ООП.
        
    РЕШЕНИЕ
        Идея: склад -- база данных оргтехники с ключевым полем по серийнику
              и функционал для работы с этой БД.
        
        > Вся оргтехника организуется как объекты-наследники 
          базового класса Equipment с характеристиками в виде словаря
          >> класс включает методы получения данных объекта
             * __call__ возвращает словарь данных объекта
             * __str__ возвращает отформатированную строку данных 
               для печати
          >> классы-наследники базового класса Equipment переопределяют
             атрибуты и методы родителя -- дополняя их.
               
        > Склад представляет из себя класс-синглтон:
          (мы это не проходили, но мне всё равно понравилось! :-) 
          >> размещающий у себя единый список объектов оборудования;
          >> ключевым полем всех объектов на складе является серийный номер
             * серийный номер не допускает дублирования
             * управления ошибкой дублирования введён класс исключений 
               AppDuplicateError(Exception)
             * ошибки с серийным номером управляется исключением 
               AppSerialError(Exception)
          >> методы операций с этим списком объектов: 
             * добавление (с валидацией только по серийнику, чтобы не раздувать код)
             * запрос всех объектов списком текстовых строк
             * запрос объекта оборудования по ключевому полю (серийник) 
             * изменение расположения -- изменение соотв. поля словаря
               с доступом к объекту по серийнику
               
        Примечание:
            1. Данные организованы в виде словаря в объекте единице оборудования, 
               а не отдельных атрибутов.
            2. Общая база данных размещена в классе-синглтоне Store в виде списка объектов оборудования, 
               со словарём параметров в каждом таком объекте.
            3. Для техники в качестве базового используется абстрактный класс.
            4. Валидация вручную; __setattr__ не используется -- не понятно, как это сделать для словаря.
            5. Может быть корректнее было бы организовать не склад, а базу активов оргтехники, 
               с возможным расположением "склад"?...
            6. Количество техники __len__ подсчитывается только общее -- без учёта выборки 
               (например, по расположению).
            7. Сложная получилась конструкция. Оценить её жизнеспособность сейчас так же сложно...
```
__Задание 7.__<br> 
Стандартное решение
```commandline
  7. Реализовать проект «Операции с комплексными числами». 
     А. Создайте класс «Комплексное число». 
     Б. Реализуйте перегрузку методов сложения и умножения комплексных чисел. 
     В. Проверьте работу проекта. Для этого создаёте экземпляры класса (комплексные числа), 
        выполните сложение и умножение созданных экземпляров. 
        Проверьте корректность полученного результата.
        
     РЕШЕНИЕ
        -- Реальная и мнимая часть: атрибуты класса re и im соотв.
        -- Проверки типа чисел при создании и изменении реальной 
           и мнимой части комплексного числа: __setattr__(), 
           что позволяет контролировать изменение атрибутов из любой части программы.
        -- сложение и умножение: прикладные методы,  
           используемые в магических методах __add__() и так далее...
        -- Ошибки: классы прикладных исключений для контроля ошибок
        -- Сервис: методы представления и копирования объекта
     ПЛАН
        -- Использование приватных атрибутов, вместо обычных
        -- Использование дескрипторов для контроля изменения атрибутов...
        -- (уточнение имён прикладных методов...)
```
Решение с использованием дескриптора
```commandline
     РЕШЕНИЕ
        -- Реальная и мнимая часть: свойства-дескрипторы класса re и im соответственно
        -- Дескриптор реализован как универсальный класс-дескриптор и может использоваться
           как для мнимой, так и для реальной частей комплексного числа: отличие формируется по имени свойства 
           в методе __set_name__, в которм создаётся уникальное имя для приватного атрибута комплексного числа. 
           Причём имя хранится в экземпляре дескриптора, а атрибут с этим именем -- в экземпляре класса-владельца
           дескриптора (то есть в комплексном числе). 
        -- Проверки типа чисел при создании и изменении реальной 
           и мнимой части комплексного числа: класс-декоратор CheckDigital -- контролируется в дескрипторе,
           что позволяет проверят из любого места программы 
        -- Сложение и умножение: прикладные методы,  
           используемые в магических методах __add__() и так далее...
        -- Ошибки: классы прикладных исключений для контроля ошибок
        -- Сервис: методы представления и копирования объекта, запрещение создания посторонних атрибутов
     ПЛАН
        -- Использование приватных атрибутов, вместо обычных: ВЫПОЛНЕНО
        -- Использование дескрипторов для контроля изменения атрибутов: ВЫПОЛНЕНО
        -- Использование декораторов для проверок изменения значений: ВЫПОЛНЕНО
```
_END: Промежуточная аттестация_